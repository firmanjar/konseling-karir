 <!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registrasi</title>
  <link rel="icon" type="image/png" href="img/Logo_ubhara.png" />
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background-image: url('https://ubharajaya.ac.id/wp-content/uploads/2024/03/Pilihan-Foto-Gedung-Ubhara-Jaya-1024x680.jpg');
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      background-repeat: no-repeat;
    }
    .backdrop-blur {
      backdrop-filter: blur(8px);
      background-color: rgba(16, 46, 80, 0.7); /* #102E50 with opacity */
    }
    .btn-primary {
      background-color: #E78B48;
    }
    .btn-primary:hover {
      background-color: #BE3D2A;
    }
    .text-accent {
      color: #F5C45E;
    }
    .toast {
      position: fixed;
      top: 20px;
      right: 20px;
      background-color: #4CAF50;
      color: white;
      padding: 15px;
      border-radius: 4px;
      z-index: 1000;
      display: none;
    }
  </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">
  <!-- Toast Notification -->
  <div id="toast" class="toast"></div>

  <div class="w-full max-w-md">
    <!-- Card Registrasi dengan backdrop blur -->
    <div class="bg-white/10 rounded-lg shadow-xl overflow-hidden backdrop-blur border border-white/20">
      <!-- Header -->
      <div class="bg-[#102E50] p-6 text-center">
        <img src="img/Logo_ubhara.png" alt="Logo Ubhara" class="h-20 mx-auto mb-4">
        <h1 class="text-2xl font-bold text-white">Buat Akun Baru</h1>
        <p class="text-[#F5C45E]">Isi formulir berikut untuk registrasi</p>
      </div>
      
      <!-- Form -->
      <form id="registrationForm" class="p-6 space-y-4">
        <div>
          <label for="fullname" class="block text-sm font-medium text-white">Nama Lengkap</label>
          <input type="text" id="fullname" required 
                 class="mt-1 block w-full px-3 py-2 bg-white/20 border border-white/30 rounded-md shadow-sm text-white placeholder-white/70 focus:outline-none focus:ring-[#E78B48] focus:border-[#E78B48]">
        </div>
        
        <div>
          <label for="email" class="block text-sm font-medium text-white">Email</label>
          <input type="email" id="email" required 
                 class="mt-1 block w-full px-3 py-2 bg-white/20 border border-white/30 rounded-md shadow-sm text-white placeholder-white/70 focus:outline-none focus:ring-[#E78B48] focus:border-[#E78B48]">
        </div>
        
        <div>
          <label for="nim" class="block text-sm font-medium text-white">NIM/NIDN</label>
          <input type="text" id="nim" required 
                 class="mt-1 block w-full px-3 py-2 bg-white/20 border border-white/30 rounded-md shadow-sm text-white placeholder-white/70 focus:outline-none focus:ring-[#E78B48] focus:border-[#E78B48]">
        </div>
          
        <div>
          <label for="password" class="block text-sm font-medium text-white">Password</label>
          <input type="password" id="password" required 
                 class="mt-1 block w-full px-3 py-2 bg-white/20 border border-white/30 rounded-md shadow-sm text-white placeholder-white/70 focus:outline-none focus:ring-[#E78B48] focus:border-[#E78B48]">
        </div>
        
        <div>
          <label for="confirm-password" class="block text-sm font-medium text-white">Konfirmasi Password</label>
          <input type="password" id="confirm-password" required 
                 class="mt-1 block w-full px-3 py-2 bg-white/20 border border-white/30 rounded-md shadow-sm text-white placeholder-white/70 focus:outline-none focus:ring-[#E78B48] focus:border-[#E78B48]">
        </div>
        
        <div class="flex items-center">
          <input id="terms" name="terms" type="checkbox" required
                 class="h-4 w-4 text-[#E78B48] focus:ring-[#E78B48] border-white/30 rounded bg-white/20">
          <label for="terms" class="ml-2 block text-sm text-white">
            Saya menyetujui <a href="#" class="text-[#F5C45E] hover:underline">syarat dan ketentuan</a>
          </label>
        </div>
        
        <div class="pt-2">
          <button type="submit" 
                  class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white btn-primary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#BE3D2A] hover:bg-[#BE3D2A] transition-colors">
            Daftar Sekarang
          </button>
        </div>
        
        <div class="text-center text-sm pt-2">
          <p class="text-white">
            Sudah punya akun? <a href="login.html" class="font-medium text-[#F5C45E] hover:text-[#E78B48]">Masuk disini</a>
          </p>
        </div>
      </form>
      
      <!-- Footer -->
      <div class="px-6 py-4 bg-[#102E50]/80 text-center">
        <p class="text-xs text-white/80">
          Â© 2023 Universitas Bhayangkara Jakarta Raya. Hak cipta dilindungi.
        </p>
      </div>
    </div>
  </div>

  <script>
    document.getElementById('registrationForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      // Validasi form
      const password = document.getElementById('password').value;
      const confirmPassword = document.getElementById('confirm-password').value;
      
      if (password !== confirmPassword) {
        showToast('Password dan konfirmasi password tidak cocok', 'error');
        return;
      }
      
      if (!document.getElementById('terms').checked) {
        showToast('Anda harus menyetujui syarat dan ketentuan', 'error');
        return;
      }
      
      // Ambil data dari form
      const userData = {
        fullname: document.getElementById('fullname').value,
        email: document.getElementById('email').value,
        nim: document.getElementById('nim').value,
        password: password, // Dalam aplikasi nyata, password harus di-hash dulu
        registeredAt: new Date().toISOString()
      };
      
      // Simpan ke localStorage
      let users = JSON.parse(localStorage.getItem('users')) || [];
      
      // Cek apakah email atau NIM sudah terdaftar
      const emailExists = users.some(user => user.email === userData.email);
      const nimExists = users.some(user => user.nim === userData.nim);
      
      if (emailExists) {
        showToast('Email sudah terdaftar', 'error');
        return;
      }
      
      if (nimExists) {
        showToast('NIM/NIDN sudah terdaftar', 'error');
        return;
      }
      
      users.push(userData);
      localStorage.setItem('users', JSON.stringify(users));
      
      // Tampilkan pesan sukses
      showToast('Registrasi berhasil!', 'success');
      
      // Reset form
      this.reset();
      
      // Redirect ke halaman login setelah 2 detik
      setTimeout(() => {
        window.location.href = 'login.html';
      }, 2000);
    });
    
    function showToast(message, type) {
      const toast = document.getElementById('toast');
      toast.textContent = message;
      toast.style.display = 'block';
      
      // Set warna berdasarkan type
      if (type === 'error') {
        toast.style.backgroundColor = '#BE3D2A';
      } else {
        toast.style.backgroundColor = '#4CAF50';
      }
      
      // Sembunyikan setelah 3 detik
      setTimeout(() => {
        toast.style.display = 'none';
      }, 3000);
    }
  </script>
</body>
</html>